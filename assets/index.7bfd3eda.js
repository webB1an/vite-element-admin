var N=Object.defineProperty,z=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var D=(e,t,n)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))R.call(t,n)&&D(e,n,t[n]);if(B)for(var n of B(t))H.call(t,n)&&D(e,n,t[n]);return e},C=(e,t)=>z(e,K(t));import{q as b,b as F,W,j as S,H as G,X as q,C as _,Y as $,Z as X,_ as A,p as Y,r as M,o as Z,f as J,l as E,w as V,u as w,F as Q,i as ee,g as k,h as ne}from"./vendor.e9505824.js";const te=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],oe=e=>te.map(t=>t.toLowerCase()).indexOf(e.toLowerCase())!==-1,ie=(e,t,n)=>{Object.keys(t).filter(oe).forEach(r=>{const o=t[r];typeof o=="function"&&(r==="onInit"?o(e,n):n.on(r.substring(2),s=>o(s,n)))})},ae=(e,t,n,r)=>{const o=e.modelEvents?e.modelEvents:null,s=Array.isArray(o)?o.join(" "):o;b(r,(a,i)=>{n&&typeof a=="string"&&a!==i&&a!==n.getContent({format:e.outputFormat})&&n.setContent(a)}),n.on(s||"change input undo redo",()=>{t.emit("update:modelValue",n.getContent({format:e.outputFormat}))})},le=(e,t,n,r,o,s)=>{r.setContent(s()),n.attrs["onUpdate:modelValue"]&&ae(t,n,r,o),ie(e,n.attrs,r)};let x=0;const L=e=>{const t=Date.now(),n=Math.floor(Math.random()*1e9);return x++,e+"_"+n+x+String(t)},re=e=>e!==null&&e.tagName.toLowerCase()==="textarea",j=e=>typeof e=="undefined"||e===""?[]:Array.isArray(e)?e:e.split(" "),se=(e,t)=>j(e).concat(j(t)),ce=e=>e==null,P=()=>({listeners:[],scriptId:L("tiny-script"),scriptLoaded:!1}),ue=()=>{let e=P();const t=(o,s,a,i)=>{const c=s.createElement("script");c.referrerPolicy="origin",c.type="application/javascript",c.id=o,c.src=a;const m=()=>{c.removeEventListener("load",m),i()};c.addEventListener("load",m),s.head&&s.head.appendChild(c)};return{load:(o,s,a)=>{e.scriptLoaded?a():(e.listeners.push(a),o.getElementById(e.scriptId)||t(e.scriptId,o,s,()=>{e.listeners.forEach(i=>i()),e.scriptLoaded=!0}))},reinitialize:()=>{e=P()}}},de=ue(),me=()=>typeof window!="undefined"?window:global,d=()=>{const e=me();return e&&e.tinymce?e.tinymce:null},ge={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],language:String,plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:e=>e==="html"||e==="text"}},fe=(e,t,n,r)=>e(r||"div",{id:t,ref:n}),ye=(e,t,n)=>e("textarea",{id:t,visibility:"hidden",ref:n}),ve=F({props:ge,setup:(e,t)=>{let n=e.init?f({},e.init):{};const{disabled:r,modelValue:o,tagName:s}=W(e),a=S(null);let i=null;const c=e.id||L("tiny-vue"),m=e.init&&e.init.inline||e.inline,p=!!t.attrs["onUpdate:modelValue"];let h=!0;const I=e.initialValue?e.initialValue:"";let v="";const O=l=>p?()=>(o==null?void 0:o.value)?o.value:"":()=>l?I:v,y=()=>{const l=O(h),u=C(f({},n),{readonly:e.disabled,selector:`#${c}`,language:e.language||"zh_CN",plugins:se(n.plugins,e.plugins),toolbar:e.toolbar||n.toolbar,inline:m,setup:g=>{i=g,g.on("init",U=>le(U,e,t,g,o,l)),typeof n.setup=="function"&&n.setup(g)}});re(a.value)&&(a.value.style.visibility=""),d().init(u),h=!1};b(r,l=>{var u;i!==null&&(typeof((u=i.mode)==null?void 0:u.set)=="function"?i.mode.set(l?"readonly":"design"):i.setMode(l?"readonly":"design"))}),b(s,()=>{var l;p||(v=i.getContent()),(l=d())==null||l.remove(i),_(()=>y())}),G(()=>{if(d()!==null)y();else if(a.value&&a.value.ownerDocument){const l=e.cloudChannel?e.cloudChannel:"6",u=e.apiKey?e.apiKey:"no-api-key",g=ce(e.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${u}/tinymce/${l}/tinymce.min.js`:e.tinymceScriptSrc;de.load(a.value.ownerDocument,g,y)}}),q(()=>{d()!==null&&(console.log("vueEditor",i),console.log("getTinymce()",d()),_(()=>{d().remove(i)}))}),m||($(()=>{h||y()}),X(()=>{var l;p||(v=i.getContent()),(l=d())==null||l.remove(i)}));const T=l=>{var u;v=i.getContent(),(u=d())==null||u.remove(i),n=f(f({},n),l),_(()=>y())};return t.expose({rerender:T}),()=>m?fe(A,c,a,e.tagName):ye(A,c,a)}}),pe=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],he=["lists","advlist","anchor","autolink","autosave","code","codesample","directionality","emoticons","fullscreen","image","insertdatetime","link","lists","media","nonbreaking","pagebreak","preview","save","searchreplace","table","template","visualblocks","visualchars","wordcount"];const Ce=ne(" \u5BCC\u6587\u672C\u7F16\u8F91\u5668\uFF0CDemo \u57FA\u4E8E\u5B98\u65B9\u9879\u76EE\u7B80\u5355\u6539\u9020\uFF0C\u514D\u53BB api-key \u73AF\u8282\uFF0C\u66F4\u591A\u8BE6\u60C5\u89C1 "),be=k("a",{href:"https://www.tiny.cloud/docs/tinymce/6/",type:"primary"},"\u6587\u6863",-1),Se=["innerHTML"],_e={name:"Tinymce"},Be=F(C(f({},_e),{setup(e){const t=S(Y.join("/vite-element-admin","/tinymce/tinymce.min.js")),n=S(`
<h1 style="text-align: center;">WOW Welcome Tinymce Demo</h1>
<ul>
  <li>1</li>
  <li>2</li>
  <li>3</li>
</ul>
`);return(r,o)=>{const s=M("custom-tip"),a=M("el-card");return Z(),J(Q,null,[E(s,{class:"mb20",type:"primary"},{default:V(()=>[Ce,be]),_:1}),E(w(ve),{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=i=>n.value=i),toolbar:w(pe),plugins:w(he),language:"zh-Hans","tinymce-script-src":t.value},null,8,["modelValue","toolbar","plugins","tinymce-script-src"]),E(a,{class:"rich-text mt20"},{default:V(()=>[ee(" eslint-disable-next-line vue/no-v-html "),k("div",{innerHTML:n.value},null,8,Se)]),_:1})],64)}}}));export{Be as default};
