var U=Object.defineProperty,A=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var h=(l,e,t)=>e in l?U(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,g=(l,e)=>{for(var t in e||(e={}))P.call(e,t)&&h(l,t,e[t]);if(k)for(var t of k(e))I.call(e,t)&&h(l,t,e[t]);return l},C=(l,e)=>A(l,N(e));import{b as L,j as q,r as c,o as d,f as E,l as o,w as i,u,c as p,i as M,F as S,t as z,h as f,$ as y}from"./vendor.e9505824.js";import{u as G,_ as H,g as J,a as K}from"./article.d883124a.js";import"./index.ddc9de53.js";const O={key:0},Q=f(" \u53D6\u6D88 "),R=f(" \u7F16\u8F91 "),W=f("\u786E\u8BA4"),X={name:"InlineEditTable"},ae=L(C(g({},X),{setup(l){const{total:e,query:t}=G(),b=q([]),V=a=>{a.editor=!a.editor},x=async a=>{a.editor=!a.editor,delete a.editor;const r=await K(a);if(r.code!=="90001")return y({message:r.msg,type:"error"});y({message:r.msg,type:"success"})},D=a=>{a.originAccount&&(a.account=a.originAccount),a.editor=!1,y({message:"\u53D6\u6D88\u7F16\u8F91",type:"warning"})},v=async()=>{const a=await J(g({},t));b.value=a.data.list,e.value=a.data.total},F=()=>{v()};return v(),(a,r)=>{const s=c("el-table-column"),j=c("el-avatar"),$=c("el-input"),w=c("el-col"),m=c("el-button"),B=c("el-row"),T=c("el-table");return d(),E(S,null,[o(T,{ref:"inlineEditTable",data:b.value,"row-key":"id",border:"",style:{width:"100%"}},{default:i(()=>[o(s,{align:"center",prop:"id",label:"id",width:"50"}),o(s,{"class-name":"avatar-column",align:"center",prop:"avatar",label:"avatar",width:"70"},{default:i(n=>[o(j,{src:n.row.avatar},null,8,["src"])]),_:1}),o(s,{align:"center",prop:"name",label:"name"}),o(s,{align:"center",prop:"account",label:"account",width:"400"},{default:i(n=>[n.row.editor?(d(),p(B,{key:1,justify:"space-around"},{default:i(()=>[o(w,{span:16},{default:i(()=>[o($,{modelValue:n.row.account,"onUpdate:modelValue":_=>n.row.account=_},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(w,{span:4},{default:i(()=>[o(m,{class:"fr",type:"primary",onClick:_=>D(n.row)},{default:i(()=>[Q]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)):(d(),E("span",O,z(n.row.account),1))]),_:1}),o(s,{align:"center",prop:"phone",label:"phone"}),o(s,{width:"250",align:"center",prop:"email",label:"email"}),o(s,{align:"center",prop:"city",label:"city"}),o(s,{width:"100",align:"center",label:"action"},{default:i(n=>[n.row.editor?(d(),p(m,{key:1,type:"primary",onClick:_=>x(n.row)},{default:i(()=>[W]),_:2},1032,["onClick"])):(d(),p(m,{key:0,type:"primary",onClick:_=>V(n.row)},{default:i(()=>[R]),_:2},1032,["onClick"]))]),_:1})]),_:1},8,["data"]),u(e)>0?(d(),p(H,{key:0,class:"mt20",page:u(t).page,"onUpdate:page":r[0]||(r[0]=n=>u(t).page=n),limit:u(t).limit,"onUpdate:limit":r[1]||(r[1]=n=>u(t).limit=n),total:u(e),onPagination:F},null,8,["page","limit","total"])):M("v-if",!0)],64)}}}));export{ae as default};
