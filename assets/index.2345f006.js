var U=Object.defineProperty,N=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var w=(e,t,n)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))T.call(t,n)&&w(e,n,t[n]);if(E)for(var n of E(t))z.call(t,n)&&w(e,n,t[n]);return e},_=(e,t)=>N(e,K(t));import{q as b,b as D,G as F,j as M,p as R,H,I as C,J as G,K as W,L as k,r as q,o as $,f as J,k as B,u as S,w as Q,F as X,i as Y,g as Z}from"./vendor.6638c6d1.js";const ee=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],ne=e=>ee.map(t=>t.toLowerCase()).indexOf(e.toLowerCase())!==-1,te=(e,t,n)=>{Object.keys(t).filter(ne).forEach(a=>{const o=t[a];typeof o=="function"&&(a==="onInit"?o(e,n):n.on(a.substring(2),s=>o(s,n)))})},oe=(e,t,n,a)=>{const o=e.modelEvents?e.modelEvents:null,s=Array.isArray(o)?o.join(" "):o;b(a,(l,i)=>{n&&typeof l=="string"&&l!==i&&l!==n.getContent({format:e.outputFormat})&&n.setContent(l)}),n.on(s||"change input undo redo",()=>{t.emit("update:modelValue",n.getContent({format:e.outputFormat}))})},ie=(e,t,n,a,o,s)=>{a.setContent(s()),n.attrs["onUpdate:modelValue"]&&oe(t,n,a,o),te(e,n.attrs,a)};let L=0;const V=e=>{const t=Date.now(),n=Math.floor(Math.random()*1e9);return L++,e+"_"+n+L+String(t)},ae=e=>e!==null&&e.tagName.toLowerCase()==="textarea",x=e=>typeof e=="undefined"||e===""?[]:Array.isArray(e)?e:e.split(" "),le=(e,t)=>x(e).concat(x(t)),re=e=>e==null,A=()=>({listeners:[],scriptId:V("tiny-script"),scriptLoaded:!1}),se=()=>{let e=A();const t=(o,s,l,i)=>{const c=s.createElement("script");c.referrerPolicy="origin",c.type="application/javascript",c.id=o,c.src=l;const m=()=>{c.removeEventListener("load",m),i()};c.addEventListener("load",m),s.head&&s.head.appendChild(c)};return{load:(o,s,l)=>{e.scriptLoaded?l():(e.listeners.push(l),o.getElementById(e.scriptId)||t(e.scriptId,o,s,()=>{e.listeners.forEach(i=>i()),e.scriptLoaded=!0}))},reinitialize:()=>{e=A()}}},ce=se(),de=()=>typeof window!="undefined"?window:global,u=()=>{const e=de();return e&&e.tinymce?e.tinymce:null},ue={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],language:String,plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:e=>e==="html"||e==="text"}},me=(e,t,n,a)=>e(a||"div",{id:t,ref:n}),ge=(e,t,n)=>e("textarea",{id:t,visibility:"hidden",ref:n}),fe=D({props:ue,setup:(e,t)=>{let n=e.init?v({},e.init):{};const{disabled:a,modelValue:o,tagName:s}=F(e),l=M(null);let i=null;const c=e.id||V("tiny-vue"),m=e.init&&e.init.inline||e.inline,h=!!t.attrs["onUpdate:modelValue"];let p=!0;const I=e.initialValue?e.initialValue:"";let y="";const P=r=>h?()=>(o==null?void 0:o.value)?o.value:"":()=>r?I:y,f=()=>{const r=P(p),d=_(v({},n),{readonly:e.disabled,selector:`#${c}`,language:e.language||"zh_CN",plugins:le(n.plugins,e.plugins),toolbar:e.toolbar||n.toolbar,inline:m,setup:g=>{i=g,g.on("init",O=>ie(O,e,t,g,o,r)),typeof n.setup=="function"&&n.setup(g)}});ae(l.value)&&(l.value.style.visibility=""),u().init(d),p=!1};b(a,r=>{var d;i!==null&&(typeof((d=i.mode)==null?void 0:d.set)=="function"?i.mode.set(r?"readonly":"design"):i.setMode(r?"readonly":"design"))}),b(s,()=>{var r;h||(y=i.getContent()),(r=u())==null||r.remove(i),C(()=>f())}),R(()=>{if(u()!==null)f();else if(l.value&&l.value.ownerDocument){const r=e.cloudChannel?e.cloudChannel:"6",d=e.apiKey?e.apiKey:"no-api-key",g=re(e.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${d}/tinymce/${r}/tinymce.min.js`:e.tinymceScriptSrc;ce.load(l.value.ownerDocument,g,f)}}),H(()=>{u()!==null&&(console.log("vueEditor",i),console.log("getTinymce()",u()),C(()=>{u().remove(i)}))}),m||(G(()=>{p||f()}),W(()=>{var r;h||(y=i.getContent()),(r=u())==null||r.remove(i)}));const j=r=>{var d;y=i.getContent(),(d=u())==null||d.remove(i),n=v(v({},n),r),C(()=>f())};return t.expose({rerender:j}),()=>m?me(k,c,l,e.tagName):ge(k,c,l)}}),ve=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],ye=["lists","advlist","anchor","autolink","autosave","code","codesample","directionality","emoticons","fullscreen","image","insertdatetime","link","lists","media","nonbreaking","pagebreak","preview","save","searchreplace","table","template","visualblocks","visualchars","wordcount"];const he=["innerHTML"],Ce=D({setup(e){const t=M(`
<h1 style="text-align: center;">WOW Welcome Tinymce Demo</h1>
<ul>
  <li>1</li>
  <li>2</li>
  <li>3</li>
</ul>
`);return(n,a)=>{const o=q("el-card");return $(),J(X,null,[B(S(fe),{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=s=>t.value=s),toolbar:S(ve),plugins:S(ye),language:"zh-Hans","tinymce-script-src":"/public/tinymce/tinymce.min.js"},null,8,["modelValue","toolbar","plugins"]),B(o,{class:"rich-text mt20"},{default:Q(()=>[Y(" eslint-disable-next-line vue/no-v-html "),Z("div",{innerHTML:t.value},null,8,he)]),_:1})],64)}}});export{Ce as default};
